<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Offline Workspace Manager</title>
  </head>
  <body>
    <div id="app">
      <h1>Obsidian Offline Workspace Manager</h1>
      
      <div id="obsidian-status" class="status-banner"></div>
      <button id="check-obsidian-status-button">Check Obsidian Status</button>

      <div id="notification" class="notification" hidden></div>
      <div id="confirmation-dialog" class="confirmation-dialog" hidden>
        <p id="confirmation-message"></p>
        <div class="confirmation-buttons">
          <button id="confirm-yes-button">Yes</button>
          <button id="confirm-no-button">No</button>
        </div>
      </div>
      <div class="container">
        <div class="vault-selection">
          <div class="vault-header">
            <h2>1. Select a Vault</h2>
            <div class="header-buttons">
              <button id="reload-vault-button" class="button-link" hidden>Reload</button>
              <a id="open-vault-link" class="button-link" href="#" target="_blank" rel="noopener noreferrer" hidden>Open in Obsidian</a>
            </div>
          </div>
          <select id="vault-selector" aria-label="Select a Vault"></select>
        </div>

        <main class="workspace-editor">
          <div class="workspace-selectors">
            <aside class="source-workspaces">
              <h2>2. Source Workspace</h2>
              <div id="source-workspace-list"></div>
            </aside>
            <aside class="target-workspaces">
              <h2>3. Target Workspace</h2>
              <div id="target-workspace-list"></div>
            </aside>
          </div>

          <div class="action-buttons">
            <button id="copy-button">Copy Tabs</button>
            <button id="move-button">Move Tabs</button>
            <button id="delete-button" class="danger">Delete Selected Tabs</button>
            <button id="delete-duplicates-button" class="danger">Delete Duplicate Tabs</button>
          </div>

          <section class="tab-selection">
            <h2>4. Select Tabs</h2>
            <table id="tab-table">
              <thead>
                <tr>
                  <th></th>
                  <th>Name</th>
                  <th>Path</th>
                </tr>
              </thead>
              <tbody id="tab-list">
              </tbody>
            </table>
          </section>
        </main>

        <section class="reorder-workspaces">
          <h2>5. Reorder Workspaces</h2>
          <p>Drag and drop to reorder the workspaces.</p>
          <div id="reorder-list" class="reorder-list"></div>
          <div class="action-buttons">
            <button id="save-order-button">Save Order</button>
          </div>
        </section>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
