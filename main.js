/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => WorkspaceManagerPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/WorkspaceManager.ts
var import_obsidian = require("obsidian");

// src/Logger.ts
var Logger = class {
  static setDebug(isDebug) {
    this.isDebug = isDebug;
  }
  static log(message, ...optionalParams) {
    console.log(message, ...optionalParams);
  }
  static info(message, ...optionalParams) {
    console.info(message, ...optionalParams);
  }
  static warn(message, ...optionalParams) {
    console.warn(message, ...optionalParams);
  }
  static error(message, ...optionalParams) {
    console.error(message, ...optionalParams);
  }
  static debug(message, ...optionalParams) {
    if (this.isDebug) {
      console.debug(message, ...optionalParams);
    }
  }
};
Logger.isDebug = true;

// src/WorkspaceManager.ts
var WorkspaceManager = class {
  constructor(app, settings) {
    this.app = app;
    this.settings = settings;
  }
  get workspacePlugin() {
    return this.app.internalPlugins.plugins.workspaces;
  }
  /**
   * Checks if the Workspaces plugin is enabled.
   * @returns {boolean} - True if the plugin is enabled, false otherwise.
   */
  isPluginEnabled() {
    var _a;
    const enabled = (_a = this.workspacePlugin) == null ? void 0 : _a.enabled;
    if (!enabled) {
      new import_obsidian.Notice("Workspaces plugin is not enabled");
      Logger.warn("Workspaces plugin is not enabled");
    }
    return enabled;
  }
  /**
   * Gets the list of all available workspaces.
   * @returns {string[]} - A list of workspace names.
   */
  getWorkspaceList() {
    var _a;
    if (!this.isPluginEnabled())
      return [];
    const workspaces = ((_a = this.workspacePlugin.instance) == null ? void 0 : _a.workspaces) || {};
    Logger.debug("Available workspaces:", Object.keys(workspaces));
    return Object.keys(workspaces);
  }
  /**
   * Gets the list of open file paths in a given workspace.
   * @param {string} workspaceName - The name of the workspace to inspect.
   * @returns {Promise<string[]>} - A list of file paths.
   */
  getFilesInWorkspace(workspaceName) {
    var _a;
    if (!this.isPluginEnabled())
      return [];
    const workspace = (_a = this.workspacePlugin.instance) == null ? void 0 : _a.workspaces[workspaceName];
    if (!workspace) {
      Logger.warn(`Workspace "${workspaceName}" not found.`);
      return [];
    }
    const files = [];
    const extractFromNode = (node) => {
      var _a2, _b;
      if ((node == null ? void 0 : node.type) === "leaf" && ((_b = (_a2 = node.state) == null ? void 0 : _a2.state) == null ? void 0 : _b.file)) {
        if (typeof node.state.state.file === "string") {
          files.push(node.state.state.file);
        }
      } else if ((node == null ? void 0 : node.children) && Array.isArray(node.children)) {
        node.children.forEach(extractFromNode);
      }
    };
    if (workspace.main) {
      extractFromNode(workspace.main);
    }
    Logger.debug(`Files in workspace "${workspaceName}":`, files);
    return files;
  }
  /**
   * Reorganizes a workspace by adding and removing files.
   * @param {string} workspaceName - The name of the workspace to reorganize.
   * @param {string[]} filesToAdd - A list of file paths to add to the workspace.
   * @param {string[]} filesToRemove - A list of file paths to remove from the workspace.
   */
  async reorganizeWorkspace(workspaceName, filesToAdd, filesToRemove) {
    if (!this.isPluginEnabled()) {
      Logger.warn("reorganizeWorkspace: Workspaces plugin is not enabled. Aborting.");
      return;
    }
    Logger.debug(`Starting reorganization for workspace: "${workspaceName}"`, { filesToAdd, filesToRemove });
    Logger.debug(`Loading workspace "${workspaceName}"...`);
    await this.workspacePlugin.instance.loadWorkspace(workspaceName);
    Logger.debug(`Workspace "${workspaceName}" loaded.`);
    if (filesToRemove.length > 0) {
      Logger.debug("Removing files:", filesToRemove);
      this.app.workspace.iterateAllLeaves((leaf) => {
        var _a;
        const filePath = (_a = leaf.view.file) == null ? void 0 : _a.path;
        if (filePath && filesToRemove.includes(filePath)) {
          Logger.debug(`Detaching leaf with file: "${filePath}"`);
          leaf.detach();
        }
      });
      Logger.debug("Finished removing files.");
    }
    if (filesToAdd.length > 0) {
      Logger.debug("Adding files:", filesToAdd);
      for (const filePath of filesToAdd) {
        const file = this.app.vault.getAbstractFileByPath(filePath);
        if (file instanceof import_obsidian.TFile) {
          Logger.debug(`Found file in vault: "${filePath}". Opening in new leaf.`);
          const leaf = this.app.workspace.getLeaf(true);
          await leaf.openFile(file);
          Logger.debug(`File "${filePath}" opened.`);
        } else {
          Logger.warn(`File not found in vault: "${filePath}". Skipping.`);
        }
      }
      Logger.debug("Finished adding files.");
    }
    Logger.debug(`Saving workspace "${workspaceName}"...`);
    await this.workspacePlugin.instance.saveWorkspace(workspaceName);
    Logger.debug(`Workspace "${workspaceName}" saved.`);
    new import_obsidian.Notice(`Workspace "${workspaceName}" has been updated.`);
    Logger.info(`Workspace "${workspaceName}" reorganized and saved.`);
  }
  /**
   * Deletes a workspace.
   * @param {string} workspaceName - The name of the workspace to delete.
   */
  async deleteWorkspace(workspaceName) {
    if (!this.isPluginEnabled())
      return;
    const workspaceInstance = this.workspacePlugin.instance;
    if (workspaceInstance && workspaceInstance.workspaces[workspaceName]) {
      delete workspaceInstance.workspaces[workspaceName];
      await workspaceInstance.saveWorkspaces();
      new import_obsidian.Notice(`Workspace "${workspaceName}" deleted.`);
      Logger.info(`Workspace "${workspaceName}" deleted.`);
    } else {
      new import_obsidian.Notice(`Workspace "${workspaceName}" not found.`);
      Logger.warn(`Workspace "${workspaceName}" not found for deletion.`);
    }
  }
  /**
   * Renames a workspace.
   * @param {string} oldName - The current name of the workspace.
   * @param {string} newName - The new name for the workspace.
   */
  async renameWorkspace(oldName, newName) {
    if (!this.isPluginEnabled())
      return;
    Logger.debug(`Renaming workspace from "${oldName}" to "${newName}".`);
    await this.workspacePlugin.instance.loadWorkspace(oldName);
    await this.workspacePlugin.instance.saveWorkspace(newName);
    await this.deleteWorkspace(oldName);
    new import_obsidian.Notice(`Workspace renamed from "${oldName}" to "${newName}".`);
    Logger.info(`Workspace renamed from "${oldName}" to "${newName}".`);
  }
};

// src/WorkspaceManagerModal.ts
var import_obsidian2 = require("obsidian");
var WorkspaceManagerModal = class extends import_obsidian2.Modal {
  constructor(app, workspaceManager) {
    super(app);
    this.workspaceManager = workspaceManager;
    this.sourceWorkspace = "";
    this.targetWorkspace = "";
    this.selectedFiles = [];
    this.filesInSource = [];
  }
  async onOpen() {
    var _a;
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("workspace-manager-modal");
    contentEl.createEl("h2", { text: "Workspace Manager" });
    if (!this.workspaceManager.isPluginEnabled()) {
      contentEl.createEl("p", { text: "The Workspaces plugin is not enabled. Please enable it in the Obsidian settings." });
      return;
    }
    const workspaceNames = this.workspaceManager.getWorkspaceList();
    Logger.info("Workspaces found:", workspaceNames);
    if (workspaceNames.length < 1) {
      contentEl.createEl("p", { text: "No workspaces found to manage." });
      return;
    }
    this.sourceWorkspace = ((_a = this.app.workspace.activeLeaf) == null ? void 0 : _a.getDisplayText()) || workspaceNames[0];
    this.targetWorkspace = workspaceNames.find((name) => name !== this.sourceWorkspace) || this.sourceWorkspace;
    new import_obsidian2.Setting(contentEl).setName("Source Workspace").setDesc("Select the workspace to move files from").addDropdown((dropdown) => {
      workspaceNames.forEach((name) => dropdown.addOption(name, name));
      dropdown.setValue(this.sourceWorkspace);
      dropdown.onChange(async (value) => {
        this.sourceWorkspace = value;
        Logger.debug(`Source workspace changed to: ${value}`);
        await this.updateTabsList();
      });
    });
    new import_obsidian2.Setting(contentEl).setName("Target Workspace").setDesc("Select the workspace to move files to").addDropdown((dropdown) => {
      workspaceNames.forEach((name) => dropdown.addOption(name, name));
      dropdown.setValue(this.targetWorkspace);
      dropdown.onChange((value) => {
        this.targetWorkspace = value;
        Logger.debug(`Target workspace changed to: ${value}`);
      });
    });
    contentEl.createDiv({ cls: "workspace-manager-tabs" });
    const buttonContainer = contentEl.createDiv({ cls: "workspace-manager-buttons" });
    buttonContainer.createEl("button", { text: "Move Selected", cls: "mod-cta" }).addEventListener("click", async () => {
      Logger.debug("Move button clicked");
      if (this.sourceWorkspace === this.targetWorkspace) {
        new import_obsidian2.Notice("Source and target workspaces must be different.");
        Logger.warn("Move failed: Source and target workspaces are the same.");
        return;
      }
      if (this.selectedFiles.length === 0) {
        new import_obsidian2.Notice("No files selected to move.");
        Logger.warn("Move failed: No files selected.");
        return;
      }
      Logger.debug(`Moving ${this.selectedFiles.length} files from ${this.sourceWorkspace} to ${this.targetWorkspace}`);
      await this.workspaceManager.reorganizeWorkspace(this.sourceWorkspace, [], this.selectedFiles);
      await this.workspaceManager.reorganizeWorkspace(this.targetWorkspace, this.selectedFiles, []);
      new import_obsidian2.Notice(`Moved ${this.selectedFiles.length} files to ${this.targetWorkspace}.`);
      await this.updateTabsList();
    });
    buttonContainer.createEl("button", { text: "Copy Selected" }).addEventListener("click", async () => {
      Logger.debug("Copy button clicked");
      if (this.sourceWorkspace === this.targetWorkspace) {
        new import_obsidian2.Notice("Source and target workspaces must be different.");
        Logger.warn("Copy failed: Source and target workspaces are the same.");
        return;
      }
      if (this.selectedFiles.length === 0) {
        new import_obsidian2.Notice("No files selected to copy.");
        Logger.warn("Copy failed: No files selected.");
        return;
      }
      Logger.debug(`Copying ${this.selectedFiles.length} files from ${this.sourceWorkspace} to ${this.targetWorkspace}`);
      await this.workspaceManager.reorganizeWorkspace(this.targetWorkspace, this.selectedFiles, []);
      new import_obsidian2.Notice(`Copied ${this.selectedFiles.length} files to ${this.targetWorkspace}.`);
      await this.updateTabsList();
    });
    buttonContainer.createEl("button", { text: "Delete Selected" }).addEventListener("click", async () => {
      Logger.debug("Delete button clicked");
      if (this.selectedFiles.length === 0) {
        new import_obsidian2.Notice("No files selected to delete.");
        Logger.warn("Delete failed: No files selected.");
        return;
      }
      Logger.debug(`Deleting ${this.selectedFiles.length} files from ${this.sourceWorkspace}`);
      await this.workspaceManager.reorganizeWorkspace(this.sourceWorkspace, [], this.selectedFiles);
      new import_obsidian2.Notice(`Deleted ${this.selectedFiles.length} files from ${this.sourceWorkspace}.`);
      await this.updateTabsList();
    });
    await this.updateTabsList();
  }
  async updateTabsList() {
    Logger.debug(`Updating tabs list for workspace: ${this.sourceWorkspace}`);
    const tabsContainer = this.contentEl.querySelector(".workspace-manager-tabs");
    if (!tabsContainer) {
      Logger.warn("Tabs container not found in modal.");
      return;
    }
    tabsContainer.empty();
    this.selectedFiles = [];
    this.filesInSource = await this.workspaceManager.getFilesInWorkspace(this.sourceWorkspace);
    Logger.debug("Files in source workspace:", this.filesInSource);
    if (this.filesInSource.length === 0) {
      tabsContainer.createEl("p", { text: "No open files in this workspace." });
      return;
    }
    this.filesInSource.forEach((filePath) => {
      new import_obsidian2.Setting(tabsContainer).setName(filePath.split("/").pop() || filePath).setDesc(filePath).addToggle((toggle) => {
        toggle.onChange((value) => {
          if (value) {
            this.selectedFiles.push(filePath);
          } else {
            this.selectedFiles = this.selectedFiles.filter((path) => path !== filePath);
          }
          Logger.debug("Selected files:", this.selectedFiles);
        });
      });
    });
  }
  onClose() {
    Logger.debug("Closing Workspace Manager modal");
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/types.ts
var DEFAULT_SETTINGS = {
  backupLocation: ".obsidian/backups",
  maxBackups: 10,
  debug: true
};

// src/main.ts
var WorkspaceManagerPlugin = class extends import_obsidian3.Plugin {
  async onload() {
    await this.loadSettings();
    Logger.setDebug(this.settings.debug);
    Logger.info("Loading Workspace Manager plugin");
    this.workspaceManager = new WorkspaceManager(this.app, this.settings);
    this.addRibbonIcon("folder", "Workspace Manager", () => {
      if (this.workspaceManager.isPluginEnabled()) {
        new WorkspaceManagerModal(this.app, this.workspaceManager).open();
      }
    });
    Logger.info("Added ribbon icon for Workspace Manager");
    this.addCommand({
      id: "open-workspace-manager",
      name: "Open Workspace Manager",
      callback: () => {
        Logger.info("Opening Workspace Manager Modal");
        if (this.workspaceManager.isPluginEnabled()) {
          new WorkspaceManagerModal(this.app, this.workspaceManager).open();
        }
      }
    });
    Logger.info("Added command: open-workspace-manager");
    this.addSettingTab(new WorkspaceManagerSettingTab(this.app, this));
  }
  onunload() {
    Logger.info("Unloading Workspace Manager plugin");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    Logger.setDebug(this.settings.debug);
  }
};
var WorkspaceManagerSettingTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Workspace Manager Settings" });
    new import_obsidian3.Setting(containerEl).setName("Enable Debug Logging").setDesc("Turns on verbose logging to the console.").addToggle((toggle) => toggle.setValue(this.plugin.settings.debug).onChange(async (value) => {
      this.plugin.settings.debug = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL1dvcmtzcGFjZU1hbmFnZXIudHMiLCAic3JjL0xvZ2dlci50cyIsICJzcmMvV29ya3NwYWNlTWFuYWdlck1vZGFsLnRzIiwgInNyYy90eXBlcy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBBcHAsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNYW5hZ2VyIH0gZnJvbSAnLi9Xb3Jrc3BhY2VNYW5hZ2VyJztcbmltcG9ydCB7IFdvcmtzcGFjZU1hbmFnZXJNb2RhbCB9IGZyb20gJy4vV29ya3NwYWNlTWFuYWdlck1vZGFsJztcbmltcG9ydCB7IFdvcmtzcGFjZU1hbmFnZXJTZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi9Mb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3Jrc3BhY2VNYW5hZ2VyUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICB3b3Jrc3BhY2VNYW5hZ2VyITogV29ya3NwYWNlTWFuYWdlcjtcbiAgICBzZXR0aW5ncyE6IFdvcmtzcGFjZU1hbmFnZXJTZXR0aW5ncztcblxuICAgIGFzeW5jIG9ubG9hZCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICAgICAgTG9nZ2VyLnNldERlYnVnKHRoaXMuc2V0dGluZ3MuZGVidWcpO1xuICAgICAgICBMb2dnZXIuaW5mbygnTG9hZGluZyBXb3Jrc3BhY2UgTWFuYWdlciBwbHVnaW4nKTtcblxuXG4gICAgICAgIHRoaXMud29ya3NwYWNlTWFuYWdlciA9IG5ldyBXb3Jrc3BhY2VNYW5hZ2VyKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBBZGQgcmliYm9uIGljb25cbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdmb2xkZXInLCAnV29ya3NwYWNlIE1hbmFnZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy53b3Jrc3BhY2VNYW5hZ2VyLmlzUGx1Z2luRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgbmV3IFdvcmtzcGFjZU1hbmFnZXJNb2RhbCh0aGlzLmFwcCwgdGhpcy53b3Jrc3BhY2VNYW5hZ2VyKS5vcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBMb2dnZXIuaW5mbygnQWRkZWQgcmliYm9uIGljb24gZm9yIFdvcmtzcGFjZSBNYW5hZ2VyJyk7XG5cbiAgICAgICAgLy8gQWRkIGNvbW1hbmRcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnb3Blbi13b3Jrc3BhY2UtbWFuYWdlcicsXG4gICAgICAgICAgICBuYW1lOiAnT3BlbiBXb3Jrc3BhY2UgTWFuYWdlcicsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIExvZ2dlci5pbmZvKCdPcGVuaW5nIFdvcmtzcGFjZSBNYW5hZ2VyIE1vZGFsJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud29ya3NwYWNlTWFuYWdlci5pc1BsdWdpbkVuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgV29ya3NwYWNlTWFuYWdlck1vZGFsKHRoaXMuYXBwLCB0aGlzLndvcmtzcGFjZU1hbmFnZXIpLm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBMb2dnZXIuaW5mbygnQWRkZWQgY29tbWFuZDogb3Blbi13b3Jrc3BhY2UtbWFuYWdlcicpO1xuXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgV29ya3NwYWNlTWFuYWdlclNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcbiAgICB9XG5cbiAgICBvbnVubG9hZCgpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ1VubG9hZGluZyBXb3Jrc3BhY2UgTWFuYWdlciBwbHVnaW4nKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgTG9nZ2VyLnNldERlYnVnKHRoaXMuc2V0dGluZ3MuZGVidWcpO1xuICAgIH1cbn1cblxuY2xhc3MgV29ya3NwYWNlTWFuYWdlclNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBwbHVnaW46IFdvcmtzcGFjZU1hbmFnZXJQbHVnaW47XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBXb3Jrc3BhY2VNYW5hZ2VyUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgfVxuXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XG5cbiAgICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ1dvcmtzcGFjZSBNYW5hZ2VyIFNldHRpbmdzJ30pO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0VuYWJsZSBEZWJ1ZyBMb2dnaW5nJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdUdXJucyBvbiB2ZXJib3NlIGxvZ2dpbmcgdG8gdGhlIGNvbnNvbGUuJylcbiAgICAgICAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1ZylcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRlYnVnID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFwcCwgTm90aWNlLCBURmlsZSwgRmlsZVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNYW5hZ2VyU2V0dGluZ3MgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vTG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIFdvcmtzcGFjZU1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBBcHAsIHByaXZhdGUgc2V0dGluZ3M6IFdvcmtzcGFjZU1hbmFnZXJTZXR0aW5ncykge31cblxuICAgIHByaXZhdGUgZ2V0IHdvcmtzcGFjZVBsdWdpbigpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmFwcCBhcyBhbnkpLmludGVybmFsUGx1Z2lucy5wbHVnaW5zLndvcmtzcGFjZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBXb3Jrc3BhY2VzIHBsdWdpbiBpcyBlbmFibGVkLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIHBsdWdpbiBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNQbHVnaW5FbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBlbmFibGVkID0gdGhpcy53b3Jrc3BhY2VQbHVnaW4/LmVuYWJsZWQ7XG4gICAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnV29ya3NwYWNlcyBwbHVnaW4gaXMgbm90IGVuYWJsZWQnKTtcbiAgICAgICAgICAgIExvZ2dlci53YXJuKCdXb3Jrc3BhY2VzIHBsdWdpbiBpcyBub3QgZW5hYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbmFibGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3Qgb2YgYWxsIGF2YWlsYWJsZSB3b3Jrc3BhY2VzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX0gLSBBIGxpc3Qgb2Ygd29ya3NwYWNlIG5hbWVzLlxuICAgICAqL1xuICAgIGdldFdvcmtzcGFjZUxpc3QoKTogc3RyaW5nW10ge1xuICAgICAgICBpZiAoIXRoaXMuaXNQbHVnaW5FbmFibGVkKCkpIHJldHVybiBbXTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZXMgPSB0aGlzLndvcmtzcGFjZVBsdWdpbi5pbnN0YW5jZT8ud29ya3NwYWNlcyB8fCB7fTtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKCdBdmFpbGFibGUgd29ya3NwYWNlczonLCBPYmplY3Qua2V5cyh3b3Jrc3BhY2VzKSk7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh3b3Jrc3BhY2VzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IG9mIG9wZW4gZmlsZSBwYXRocyBpbiBhIGdpdmVuIHdvcmtzcGFjZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gd29ya3NwYWNlTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB3b3Jrc3BhY2UgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmdbXT59IC0gQSBsaXN0IG9mIGZpbGUgcGF0aHMuXG4gICAgICovXG4gICAgZ2V0RmlsZXNJbldvcmtzcGFjZSh3b3Jrc3BhY2VOYW1lOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGlmICghdGhpcy5pc1BsdWdpbkVuYWJsZWQoKSkgcmV0dXJuIFtdO1xuXG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IHRoaXMud29ya3NwYWNlUGx1Z2luLmluc3RhbmNlPy53b3Jrc3BhY2VzW3dvcmtzcGFjZU5hbWVdO1xuICAgICAgICBpZiAoIXdvcmtzcGFjZSkge1xuICAgICAgICAgICAgTG9nZ2VyLndhcm4oYFdvcmtzcGFjZSBcIiR7d29ya3NwYWNlTmFtZX1cIiBub3QgZm91bmQuYCk7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWxlczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgY29uc3QgZXh0cmFjdEZyb21Ob2RlID0gKG5vZGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGU/LnR5cGUgPT09ICdsZWFmJyAmJiBub2RlLnN0YXRlPy5zdGF0ZT8uZmlsZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5zdGF0ZS5zdGF0ZS5maWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoKG5vZGUuc3RhdGUuc3RhdGUuZmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlPy5jaGlsZHJlbiAmJiBBcnJheS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKGV4dHJhY3RGcm9tTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHdvcmtzcGFjZS5tYWluKSB7XG4gICAgICAgICAgICBleHRyYWN0RnJvbU5vZGUod29ya3NwYWNlLm1haW4pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBMb2dnZXIuZGVidWcoYEZpbGVzIGluIHdvcmtzcGFjZSBcIiR7d29ya3NwYWNlTmFtZX1cIjpgLCBmaWxlcyk7XG4gICAgICAgIHJldHVybiBmaWxlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW9yZ2FuaXplcyBhIHdvcmtzcGFjZSBieSBhZGRpbmcgYW5kIHJlbW92aW5nIGZpbGVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB3b3Jrc3BhY2VOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHdvcmtzcGFjZSB0byByZW9yZ2FuaXplLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGZpbGVzVG9BZGQgLSBBIGxpc3Qgb2YgZmlsZSBwYXRocyB0byBhZGQgdG8gdGhlIHdvcmtzcGFjZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWxlc1RvUmVtb3ZlIC0gQSBsaXN0IG9mIGZpbGUgcGF0aHMgdG8gcmVtb3ZlIGZyb20gdGhlIHdvcmtzcGFjZS5cbiAgICAgKi9cbiAgICBhc3luYyByZW9yZ2FuaXplV29ya3NwYWNlKHdvcmtzcGFjZU5hbWU6IHN0cmluZywgZmlsZXNUb0FkZDogc3RyaW5nW10sIGZpbGVzVG9SZW1vdmU6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5pc1BsdWdpbkVuYWJsZWQoKSkge1xuICAgICAgICAgICAgTG9nZ2VyLndhcm4oJ3Jlb3JnYW5pemVXb3Jrc3BhY2U6IFdvcmtzcGFjZXMgcGx1Z2luIGlzIG5vdCBlbmFibGVkLiBBYm9ydGluZy4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIExvZ2dlci5kZWJ1ZyhgU3RhcnRpbmcgcmVvcmdhbml6YXRpb24gZm9yIHdvcmtzcGFjZTogXCIke3dvcmtzcGFjZU5hbWV9XCJgLCB7IGZpbGVzVG9BZGQsIGZpbGVzVG9SZW1vdmUgfSk7XG5cbiAgICAgICAgTG9nZ2VyLmRlYnVnKGBMb2FkaW5nIHdvcmtzcGFjZSBcIiR7d29ya3NwYWNlTmFtZX1cIi4uLmApO1xuICAgICAgICBhd2FpdCB0aGlzLndvcmtzcGFjZVBsdWdpbi5pbnN0YW5jZS5sb2FkV29ya3NwYWNlKHdvcmtzcGFjZU5hbWUpO1xuICAgICAgICBMb2dnZXIuZGVidWcoYFdvcmtzcGFjZSBcIiR7d29ya3NwYWNlTmFtZX1cIiBsb2FkZWQuYCk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHVud2FudGVkIGZpbGVzXG4gICAgICAgIGlmIChmaWxlc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIExvZ2dlci5kZWJ1ZygnUmVtb3ZpbmcgZmlsZXM6JywgZmlsZXNUb1JlbW92ZSk7XG4gICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UuaXRlcmF0ZUFsbExlYXZlcygobGVhZikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gKGxlYWYudmlldyBhcyBGaWxlVmlldykuZmlsZT8ucGF0aDtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZVBhdGggJiYgZmlsZXNUb1JlbW92ZS5pbmNsdWRlcyhmaWxlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKGBEZXRhY2hpbmcgbGVhZiB3aXRoIGZpbGU6IFwiJHtmaWxlUGF0aH1cImApO1xuICAgICAgICAgICAgICAgICAgICBsZWFmLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKCdGaW5pc2hlZCByZW1vdmluZyBmaWxlcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQWRkIG5ldyBmaWxlc1xuICAgICAgICBpZiAoZmlsZXNUb0FkZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBMb2dnZXIuZGVidWcoJ0FkZGluZyBmaWxlczonLCBmaWxlc1RvQWRkKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZVBhdGggb2YgZmlsZXNUb0FkZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKGBGb3VuZCBmaWxlIGluIHZhdWx0OiBcIiR7ZmlsZVBhdGh9XCIuIE9wZW5pbmcgaW4gbmV3IGxlYWYuYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbGVhZi5vcGVuRmlsZShmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKGBGaWxlIFwiJHtmaWxlUGF0aH1cIiBvcGVuZWQuYCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLndhcm4oYEZpbGUgbm90IGZvdW5kIGluIHZhdWx0OiBcIiR7ZmlsZVBhdGh9XCIuIFNraXBwaW5nLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIExvZ2dlci5kZWJ1ZygnRmluaXNoZWQgYWRkaW5nIGZpbGVzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgTG9nZ2VyLmRlYnVnKGBTYXZpbmcgd29ya3NwYWNlIFwiJHt3b3Jrc3BhY2VOYW1lfVwiLi4uYCk7XG4gICAgICAgIGF3YWl0IHRoaXMud29ya3NwYWNlUGx1Z2luLmluc3RhbmNlLnNhdmVXb3Jrc3BhY2Uod29ya3NwYWNlTmFtZSk7XG4gICAgICAgIExvZ2dlci5kZWJ1ZyhgV29ya3NwYWNlIFwiJHt3b3Jrc3BhY2VOYW1lfVwiIHNhdmVkLmApO1xuXG4gICAgICAgIG5ldyBOb3RpY2UoYFdvcmtzcGFjZSBcIiR7d29ya3NwYWNlTmFtZX1cIiBoYXMgYmVlbiB1cGRhdGVkLmApO1xuICAgICAgICBMb2dnZXIuaW5mbyhgV29ya3NwYWNlIFwiJHt3b3Jrc3BhY2VOYW1lfVwiIHJlb3JnYW5pemVkIGFuZCBzYXZlZC5gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgd29ya3NwYWNlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB3b3Jrc3BhY2VOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHdvcmtzcGFjZSB0byBkZWxldGUuXG4gICAgICovXG4gICAgYXN5bmMgZGVsZXRlV29ya3NwYWNlKHdvcmtzcGFjZU5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuaXNQbHVnaW5FbmFibGVkKCkpIHJldHVybjtcblxuICAgICAgICBjb25zdCB3b3Jrc3BhY2VJbnN0YW5jZSA9IHRoaXMud29ya3NwYWNlUGx1Z2luLmluc3RhbmNlO1xuICAgICAgICBpZiAod29ya3NwYWNlSW5zdGFuY2UgJiYgd29ya3NwYWNlSW5zdGFuY2Uud29ya3NwYWNlc1t3b3Jrc3BhY2VOYW1lXSkge1xuICAgICAgICAgICAgZGVsZXRlIHdvcmtzcGFjZUluc3RhbmNlLndvcmtzcGFjZXNbd29ya3NwYWNlTmFtZV07XG4gICAgICAgICAgICBhd2FpdCB3b3Jrc3BhY2VJbnN0YW5jZS5zYXZlV29ya3NwYWNlcygpO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgV29ya3NwYWNlIFwiJHt3b3Jrc3BhY2VOYW1lfVwiIGRlbGV0ZWQuYCk7XG4gICAgICAgICAgICBMb2dnZXIuaW5mbyhgV29ya3NwYWNlIFwiJHt3b3Jrc3BhY2VOYW1lfVwiIGRlbGV0ZWQuYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBXb3Jrc3BhY2UgXCIke3dvcmtzcGFjZU5hbWV9XCIgbm90IGZvdW5kLmApO1xuICAgICAgICAgICAgTG9nZ2VyLndhcm4oYFdvcmtzcGFjZSBcIiR7d29ya3NwYWNlTmFtZX1cIiBub3QgZm91bmQgZm9yIGRlbGV0aW9uLmApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuYW1lcyBhIHdvcmtzcGFjZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2xkTmFtZSAtIFRoZSBjdXJyZW50IG5hbWUgb2YgdGhlIHdvcmtzcGFjZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3TmFtZSAtIFRoZSBuZXcgbmFtZSBmb3IgdGhlIHdvcmtzcGFjZS5cbiAgICAgKi9cbiAgICBhc3luYyByZW5hbWVXb3Jrc3BhY2Uob2xkTmFtZTogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzUGx1Z2luRW5hYmxlZCgpKSByZXR1cm47XG5cbiAgICAgICAgTG9nZ2VyLmRlYnVnKGBSZW5hbWluZyB3b3Jrc3BhY2UgZnJvbSBcIiR7b2xkTmFtZX1cIiB0byBcIiR7bmV3TmFtZX1cIi5gKTtcblxuICAgICAgICBhd2FpdCB0aGlzLndvcmtzcGFjZVBsdWdpbi5pbnN0YW5jZS5sb2FkV29ya3NwYWNlKG9sZE5hbWUpO1xuICAgICAgICBhd2FpdCB0aGlzLndvcmtzcGFjZVBsdWdpbi5pbnN0YW5jZS5zYXZlV29ya3NwYWNlKG5ld05hbWUpO1xuICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZVdvcmtzcGFjZShvbGROYW1lKTtcblxuICAgICAgICBuZXcgTm90aWNlKGBXb3Jrc3BhY2UgcmVuYW1lZCBmcm9tIFwiJHtvbGROYW1lfVwiIHRvIFwiJHtuZXdOYW1lfVwiLmApO1xuICAgICAgICBMb2dnZXIuaW5mbyhgV29ya3NwYWNlIHJlbmFtZWQgZnJvbSBcIiR7b2xkTmFtZX1cIiB0byBcIiR7bmV3TmFtZX1cIi5gKTtcbiAgICB9XG5cbn0iLCAiZXhwb3J0IGNsYXNzIExvZ2dlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNEZWJ1ZzogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBzdGF0aWMgc2V0RGVidWcoaXNEZWJ1ZzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzRGVidWcgPSBpc0RlYnVnO1xuICAgIH1cblxuICAgIHN0YXRpYyBsb2cobWVzc2FnZTogc3RyaW5nLCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pIHtcbiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbmZvKG1lc3NhZ2U6IHN0cmluZywgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHdhcm4obWVzc2FnZTogc3RyaW5nLCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXJyb3IobWVzc2FnZTogc3RyaW5nLCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGVidWcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcobWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxufSIsICJpbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNYW5hZ2VyIH0gZnJvbSAnLi9Xb3Jrc3BhY2VNYW5hZ2VyJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vTG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIFdvcmtzcGFjZU1hbmFnZXJNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwcml2YXRlIHNvdXJjZVdvcmtzcGFjZTogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSB0YXJnZXRXb3Jrc3BhY2U6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgc2VsZWN0ZWRGaWxlczogc3RyaW5nW10gPSBbXTtcbiAgICBwcml2YXRlIGZpbGVzSW5Tb3VyY2U6IHN0cmluZ1tdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcHJpdmF0ZSB3b3Jrc3BhY2VNYW5hZ2VyOiBXb3Jrc3BhY2VNYW5hZ2VyKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgICAgIGNvbnRlbnRFbC5hZGRDbGFzcygnd29ya3NwYWNlLW1hbmFnZXItbW9kYWwnKTtcblxuICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnV29ya3NwYWNlIE1hbmFnZXInIH0pO1xuXG4gICAgICAgIGlmICghdGhpcy53b3Jrc3BhY2VNYW5hZ2VyLmlzUGx1Z2luRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdUaGUgV29ya3NwYWNlcyBwbHVnaW4gaXMgbm90IGVuYWJsZWQuIFBsZWFzZSBlbmFibGUgaXQgaW4gdGhlIE9ic2lkaWFuIHNldHRpbmdzLicgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3b3Jrc3BhY2VOYW1lcyA9IHRoaXMud29ya3NwYWNlTWFuYWdlci5nZXRXb3Jrc3BhY2VMaXN0KCk7XG4gICAgICAgIExvZ2dlci5pbmZvKCdXb3Jrc3BhY2VzIGZvdW5kOicsIHdvcmtzcGFjZU5hbWVzKTtcblxuICAgICAgICBpZiAod29ya3NwYWNlTmFtZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTm8gd29ya3NwYWNlcyBmb3VuZCB0byBtYW5hZ2UuJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHdvcmtzcGFjZXNcbiAgICAgICAgdGhpcy5zb3VyY2VXb3Jrc3BhY2UgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZj8uZ2V0RGlzcGxheVRleHQoKSB8fCB3b3Jrc3BhY2VOYW1lc1swXTtcbiAgICAgICAgdGhpcy50YXJnZXRXb3Jrc3BhY2UgPSB3b3Jrc3BhY2VOYW1lcy5maW5kKG5hbWUgPT4gbmFtZSAhPT0gdGhpcy5zb3VyY2VXb3Jrc3BhY2UpIHx8IHRoaXMuc291cmNlV29ya3NwYWNlO1xuXG4gICAgICAgIC8vIFNvdXJjZSB3b3Jrc3BhY2Ugc2VsZWN0b3JcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ1NvdXJjZSBXb3Jrc3BhY2UnKVxuICAgICAgICAgICAgLnNldERlc2MoJ1NlbGVjdCB0aGUgd29ya3NwYWNlIHRvIG1vdmUgZmlsZXMgZnJvbScpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuICAgICAgICAgICAgICAgIHdvcmtzcGFjZU5hbWVzLmZvckVhY2gobmFtZSA9PiBkcm9wZG93bi5hZGRPcHRpb24obmFtZSwgbmFtZSkpO1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duLnNldFZhbHVlKHRoaXMuc291cmNlV29ya3NwYWNlKTtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VXb3Jrc3BhY2UgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKGBTb3VyY2Ugd29ya3NwYWNlIGNoYW5nZWQgdG86ICR7dmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVGFic0xpc3QoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRhcmdldCB3b3Jrc3BhY2Ugc2VsZWN0b3JcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ1RhcmdldCBXb3Jrc3BhY2UnKVxuICAgICAgICAgICAgLnNldERlc2MoJ1NlbGVjdCB0aGUgd29ya3NwYWNlIHRvIG1vdmUgZmlsZXMgdG8nKVxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2VOYW1lcy5mb3JFYWNoKG5hbWUgPT4gZHJvcGRvd24uYWRkT3B0aW9uKG5hbWUsIG5hbWUpKTtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnRhcmdldFdvcmtzcGFjZSk7XG4gICAgICAgICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFdvcmtzcGFjZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZGVidWcoYFRhcmdldCB3b3Jrc3BhY2UgY2hhbmdlZCB0bzogJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbnRhaW5lciBmb3IgdGFicyBsaXN0XG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICd3b3Jrc3BhY2UtbWFuYWdlci10YWJzJyB9KTtcblxuICAgICAgICAvLyBCdXR0b25zXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICd3b3Jrc3BhY2UtbWFuYWdlci1idXR0b25zJyB9KTtcblxuICAgICAgICBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ01vdmUgU2VsZWN0ZWQnLCBjbHM6ICdtb2QtY3RhJyB9KVxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIExvZ2dlci5kZWJ1ZygnTW92ZSBidXR0b24gY2xpY2tlZCcpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdXJjZVdvcmtzcGFjZSA9PT0gdGhpcy50YXJnZXRXb3Jrc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnU291cmNlIGFuZCB0YXJnZXQgd29ya3NwYWNlcyBtdXN0IGJlIGRpZmZlcmVudC4nKTtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLndhcm4oJ01vdmUgZmFpbGVkOiBTb3VyY2UgYW5kIHRhcmdldCB3b3Jrc3BhY2VzIGFyZSB0aGUgc2FtZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdObyBmaWxlcyBzZWxlY3RlZCB0byBtb3ZlLicpO1xuICAgICAgICAgICAgICAgICAgICBMb2dnZXIud2FybignTW92ZSBmYWlsZWQ6IE5vIGZpbGVzIHNlbGVjdGVkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIExvZ2dlci5kZWJ1ZyhgTW92aW5nICR7dGhpcy5zZWxlY3RlZEZpbGVzLmxlbmd0aH0gZmlsZXMgZnJvbSAke3RoaXMuc291cmNlV29ya3NwYWNlfSB0byAke3RoaXMudGFyZ2V0V29ya3NwYWNlfWApO1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgZmlsZXMgYnkgcmVtb3ZpbmcgZnJvbSBzb3VyY2UgYW5kIGFkZGluZyB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndvcmtzcGFjZU1hbmFnZXIucmVvcmdhbml6ZVdvcmtzcGFjZSh0aGlzLnNvdXJjZVdvcmtzcGFjZSwgW10sIHRoaXMuc2VsZWN0ZWRGaWxlcyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53b3Jrc3BhY2VNYW5hZ2VyLnJlb3JnYW5pemVXb3Jrc3BhY2UodGhpcy50YXJnZXRXb3Jrc3BhY2UsIHRoaXMuc2VsZWN0ZWRGaWxlcywgW10pO1xuXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgTW92ZWQgJHt0aGlzLnNlbGVjdGVkRmlsZXMubGVuZ3RofSBmaWxlcyB0byAke3RoaXMudGFyZ2V0V29ya3NwYWNlfS5gKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVRhYnNMaXN0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NvcHkgU2VsZWN0ZWQnIH0pXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKCdDb3B5IGJ1dHRvbiBjbGlja2VkJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlV29ya3NwYWNlID09PSB0aGlzLnRhcmdldFdvcmtzcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdTb3VyY2UgYW5kIHRhcmdldCB3b3Jrc3BhY2VzIG11c3QgYmUgZGlmZmVyZW50LicpO1xuICAgICAgICAgICAgICAgICAgICBMb2dnZXIud2FybignQ29weSBmYWlsZWQ6IFNvdXJjZSBhbmQgdGFyZ2V0IHdvcmtzcGFjZXMgYXJlIHRoZSBzYW1lLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ05vIGZpbGVzIHNlbGVjdGVkIHRvIGNvcHkuJyk7XG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci53YXJuKCdDb3B5IGZhaWxlZDogTm8gZmlsZXMgc2VsZWN0ZWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBMb2dnZXIuZGVidWcoYENvcHlpbmcgJHt0aGlzLnNlbGVjdGVkRmlsZXMubGVuZ3RofSBmaWxlcyBmcm9tICR7dGhpcy5zb3VyY2VXb3Jrc3BhY2V9IHRvICR7dGhpcy50YXJnZXRXb3Jrc3BhY2V9YCk7XG4gICAgICAgICAgICAgICAgLy8gQ29weSBmaWxlcyBieSBhZGRpbmcgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53b3Jrc3BhY2VNYW5hZ2VyLnJlb3JnYW5pemVXb3Jrc3BhY2UodGhpcy50YXJnZXRXb3Jrc3BhY2UsIHRoaXMuc2VsZWN0ZWRGaWxlcywgW10pO1xuXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgQ29waWVkICR7dGhpcy5zZWxlY3RlZEZpbGVzLmxlbmd0aH0gZmlsZXMgdG8gJHt0aGlzLnRhcmdldFdvcmtzcGFjZX0uYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVUYWJzTGlzdCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdEZWxldGUgU2VsZWN0ZWQnIH0pXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKCdEZWxldGUgYnV0dG9uIGNsaWNrZWQnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdObyBmaWxlcyBzZWxlY3RlZCB0byBkZWxldGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci53YXJuKCdEZWxldGUgZmFpbGVkOiBObyBmaWxlcyBzZWxlY3RlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBMb2dnZXIuZGVidWcoYERlbGV0aW5nICR7dGhpcy5zZWxlY3RlZEZpbGVzLmxlbmd0aH0gZmlsZXMgZnJvbSAke3RoaXMuc291cmNlV29ya3NwYWNlfWApO1xuICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBmaWxlcyBmcm9tIHNvdXJjZVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud29ya3NwYWNlTWFuYWdlci5yZW9yZ2FuaXplV29ya3NwYWNlKHRoaXMuc291cmNlV29ya3NwYWNlLCBbXSwgdGhpcy5zZWxlY3RlZEZpbGVzKTtcblxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYERlbGV0ZWQgJHt0aGlzLnNlbGVjdGVkRmlsZXMubGVuZ3RofSBmaWxlcyBmcm9tICR7dGhpcy5zb3VyY2VXb3Jrc3BhY2V9LmApO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVGFic0xpc3QoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEluaXRpYWwgdGFicyBsaXN0XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVGFic0xpc3QoKTtcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVUYWJzTGlzdCgpIHtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKGBVcGRhdGluZyB0YWJzIGxpc3QgZm9yIHdvcmtzcGFjZTogJHt0aGlzLnNvdXJjZVdvcmtzcGFjZX1gKTtcbiAgICAgICAgY29uc3QgdGFic0NvbnRhaW5lciA9IHRoaXMuY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJy53b3Jrc3BhY2UtbWFuYWdlci10YWJzJyk7XG4gICAgICAgIGlmICghdGFic0NvbnRhaW5lcikge1xuICAgICAgICAgICAgTG9nZ2VyLndhcm4oJ1RhYnMgY29udGFpbmVyIG5vdCBmb3VuZCBpbiBtb2RhbC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhYnNDb250YWluZXIuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEZpbGVzID0gW107XG5cbiAgICAgICAgdGhpcy5maWxlc0luU291cmNlID0gYXdhaXQgdGhpcy53b3Jrc3BhY2VNYW5hZ2VyLmdldEZpbGVzSW5Xb3Jrc3BhY2UodGhpcy5zb3VyY2VXb3Jrc3BhY2UpO1xuICAgICAgICBMb2dnZXIuZGVidWcoJ0ZpbGVzIGluIHNvdXJjZSB3b3Jrc3BhY2U6JywgdGhpcy5maWxlc0luU291cmNlKTtcblxuICAgICAgICBpZiAodGhpcy5maWxlc0luU291cmNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGFic0NvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ05vIG9wZW4gZmlsZXMgaW4gdGhpcyB3b3Jrc3BhY2UuJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlsZXNJblNvdXJjZS5mb3JFYWNoKChmaWxlUGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyh0YWJzQ29udGFpbmVyIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKGZpbGVQYXRoLnNwbGl0KCcvJykucG9wKCkgfHwgZmlsZVBhdGgpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoZmlsZVBhdGgpXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGUub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZpbGVzLnB1c2goZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRmlsZXMgPSB0aGlzLnNlbGVjdGVkRmlsZXMuZmlsdGVyKHBhdGggPT4gcGF0aCAhPT0gZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKCdTZWxlY3RlZCBmaWxlczonLCB0aGlzLnNlbGVjdGVkRmlsZXMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKCdDbG9zaW5nIFdvcmtzcGFjZSBNYW5hZ2VyIG1vZGFsJyk7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59IiwgImV4cG9ydCBpbnRlcmZhY2UgV29ya3NwYWNlTWFuYWdlclNldHRpbmdzIHtcbiAgICBiYWNrdXBMb2NhdGlvbjogc3RyaW5nO1xuICAgIG1heEJhY2t1cHM6IG51bWJlcjtcbiAgICBkZWJ1ZzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFdvcmtzcGFjZU1hbmFnZXJTZXR0aW5ncyA9IHtcbiAgICBiYWNrdXBMb2NhdGlvbjogJy5vYnNpZGlhbi9iYWNrdXBzJyxcbiAgICBtYXhCYWNrdXBzOiAxMCxcbiAgICBkZWJ1ZzogdHJ1ZVxufTsiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUF1RDs7O0FDQXZELHNCQUE0RDs7O0FDQXJELElBQU0sU0FBTixNQUFhO0FBQUEsRUFHaEIsT0FBTyxTQUFTLFNBQWtCO0FBQzlCLFNBQUssVUFBVTtBQUFBLEVB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U0FBSyxtQkFBbUIsSUFBSSxpQkFBaUIsS0FBSyxLQUFLLEtBQUssUUFBUTtBQUdwRSxTQUFLLGNBQWMsVUFBVSxxQkFBcUIsTUFBTTtBQUNwRCxVQUFJLEtBQUssaUJBQWlCLGdCQUFnQixHQUFHO0FBQ3pDLFlBQUksc0JBQXNCLEtBQUssS0FBSyxLQUFLLGdCQUFnQixFQUFFLEtBQUs7QUFBQSxNQUNwRTtBQUFBLElBQ0osQ0FBQztBQUNELFdBQU8sS0FBSyx5Q0FBeUM7QUFHckQsU0FBSyxXQUFXO0FBQUEsTUFDWixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFDWixlQUFPLEtBQUssaUNBQWlDO0FBQzdDLFlBQUksS0FBSyxpQkFBaUIsZ0JBQWdCLEdBQUc7QUFDekMsY0FBSSxzQkFBc0IsS0FBSyxLQUFLLEtBQUssZ0JBQWdCLEVBQUUsS0FBSztBQUFBLFFBQ3BFO0FBQUEsTUFDSjtBQUFBLElBQ0osQ0FBQztBQUNELFdBQU8sS0FBSyx1Q0FBdUM7QUFFbkQsU0FBSyxjQUFjLElBQUksMkJBQTJCLEtBQUssS0FBSyxJQUFJLENBQUM7QUFBQSxFQUNyRTtBQUFBLEVBRUEsV0FBVztBQUNQLFdBQU8sS0FBSyxvQ0FBb0M7QUFBQSxFQUNwRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ2pCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixNQUFNLEtBQUssU0FBUyxDQUFDO0FBQUEsRUFDN0U7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNqQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFDakMsV0FBTyxTQUFTLEtBQUssU0FBUyxLQUFLO0FBQUEsRUFDdkM7QUFDSjtBQUVBLElBQU0sNkJBQU4sY0FBeUMsa0NBQWlCO0FBQUEsRUFHdEQsWUFBWSxLQUFVLFFBQWdDO0FBQ2xELFVBQU0sS0FBSyxNQUFNO0FBQ2pCLFNBQUssU0FBUztBQUFBLEVBQ2xCO0FBQUEsRUFFQSxVQUFnQjtBQUNaLFVBQU0sRUFBQyxZQUFXLElBQUk7QUFFdEIsZ0JBQVksTUFBTTtBQUVsQixnQkFBWSxTQUFTLE1BQU0sRUFBQyxNQUFNLDZCQUE0QixDQUFDO0FBRS9ELFFBQUkseUJBQVEsV0FBVyxFQUNsQixRQUFRLHNCQUFzQixFQUM5QixRQUFRLDBDQUEwQyxFQUNsRCxVQUFVLFlBQVUsT0FDaEIsU0FBUyxLQUFLLE9BQU8sU0FBUyxLQUFLLEVBQ25DLFNBQVMsT0FBTyxVQUFVO0FBQ3ZCLFdBQUssT0FBTyxTQUFTLFFBQVE7QUFDN0IsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ25DLENBQUMsQ0FBQztBQUFBLEVBQ2Q7QUFDSjsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgIl9hIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
